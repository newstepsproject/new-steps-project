# Localhost Test Report – $(date +"%Y-%m-%d")

## Overview
- Environment: http://localhost:3000
- Branch: $(git rev-parse --abbrev-ref HEAD)
- Commit: $(git rev-parse --short HEAD)
- Accounts used: newsteps.dev@gmail.com (user), admin@newsteps.fit (admin)

## Automated Results
| Suite | Command | Result | Notes |
|-------|---------|--------|-------|
| API smoke | `npm run test:api` | ✅ Pass | Health, settings, shoes, and credential session refresh |
| Workflow simulations | `npm run test:workflows` | ✅ Pass | Donation + request submissions, admin status transitions, inventory decrement |
| UI regression | `npm run test:ui` | ✅ Pass* | Playwright suite for visitor cart/login wall, account banner, donation history, admin search, accessibility (*contrast/button-name warnings) |

## Manual Checks
| ID | Scenario | Result | Observation |
|----|----------|--------|-------------|
| M-1 | Email verification banner clears after verification | ✅ | Covered by Playwright `run-verify-banner` spec |
| M-2 | UI sanity after donation submission | ✅ | Covered by Playwright `run-donation-visibility` spec |
| M-3 | Admin dashboard donation search | ✅ | Covered by Playwright `run-admin-search` spec |
| M-4 | Visitor cart enforces login at checkout | ✅ | Covered by new Playwright `visitor-cart` spec |

## Bugs Fixed
1. **Account session refresh** – added automatic `useSession().update()` on load to reflect verification status immediately.

## Accessibility Findings
- `button-name` – home page hero CTA lacks accessible name; needs aria-label/text.
- `color-contrast` – multiple elements below WCAG AA contrast threshold (see Playwright accessibility output).

## Follow-up / Manual Verification Suggestions
- When testing on production, confirm Gmail verification link flows end-to-end (email send, link open, banner cleared).
- Validate admin donation status transitions (submitted → confirmed → completed) with real inventory data.
